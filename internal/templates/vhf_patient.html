{{define "content"}}
<div class="container mt-4">
    <h2>VHF Case Investigation Form - Patient Information</h2>
    <form action="/vhf-cif/patient" method="POST" class="needs-validation" novalidate>
        <div class="row">
            <div class="col-md-6 mb-3">
                <label for="surname" class="form-label">Surname*</label>
                <input type="text" class="form-control" id="surname" name="surname" required>
            </div>
            <div class="col-md-6 mb-3">
                <label for="other_names" class="form-label">Other Names</label>
                <input type="text" class="form-control" id="other_names" name="other_names">
            </div>
        </div>

        <div class="row">
            <div class="col-md-4 mb-3">
                <label for="dob" class="form-label">Date of Birth</label>
                <input type="date" class="form-control" id="dob" name="dob">
            </div>
            <div class="col-md-4 mb-3">
                <label for="age_years" class="form-label">Age (Years)</label>
                <input type="number" class="form-control" id="age_years" name="age_years" min="0">
            </div>
            <div class="col-md-4 mb-3">
                <label for="age_months" class="form-label">Age (Months)</label>
                <input type="number" class="form-control" id="age_months" name="age_months" min="0" max="11">
            </div>
        </div>

        <div class="row">
            <div class="col-md-6 mb-3">
                <label for="gender" class="form-label">Gender*</label>
                <select class="form-select" id="gender" name="gender" required>
                    <option value="">Select gender</option>
                    <option value="Male">Male</option>
                    <option value="Female">Female</option>
                    <option value="Other">Other</option>
                </select>
            </div>
            <div class="col-md-6 mb-3">
                <label for="status" class="form-label">Status*</label>
                <select class="form-select" id="status" name="status" required>
                    <option value="">Select status</option>
                    <option value="Alive">Alive</option>
                    <option value="Dead">Dead</option>
                </select>
            </div>
        </div>

        <div class="row">
            <div class="col-md-6 mb-3">
                <label for="patient_phone" class="form-label">Patient Phone</label>
                <input type="tel" class="form-control" id="patient_phone" name="patient_phone">
            </div>
            <div class="col-md-6 mb-3">
                <label for="phone_owner" class="form-label">Phone Owner</label>
                <input type="text" class="form-control" id="phone_owner" name="phone_owner">
            </div>
        </div>

        <div class="row">
            <div class="col-md-6 mb-3">
                <label for="next_of_kin" class="form-label">Next of Kin</label>
                <input type="text" class="form-control" id="next_of_kin" name="next_of_kin">
            </div>
            <div class="col-md-6 mb-3">
                <label for="next_of_kin_phone" class="form-label">Next of Kin Phone</label>
                <input type="tel" class="form-control" id="next_of_kin_phone" name="next_of_kin_phone">
            </div>
        </div>

        <div class="row">
            <div class="col-md-6 mb-3">
                <label for="head_of_household" class="form-label">Head of Household</label>
                <input type="text" class="form-control" id="head_of_household" name="head_of_household">
            </div>
            <div class="col-md-6 mb-3">
                <label for="occupation" class="form-label">Occupation</label>
                <input type="text" class="form-control" id="occupation" name="occupation">
            </div>
        </div>

        <h4 class="mt-4">Residence Information</h4>
        <div class="row">
            <div class="col-md-6 mb-3">
                <label for="village_town" class="form-label">Village/Town</label>
                <input type="text" class="form-control" id="village_town" name="village_town">
            </div>
            <div class="col-md-6 mb-3">
                <label for="parish" class="form-label">Parish</label>
                <input type="text" class="form-control" id="parish" name="parish">
            </div>
        </div>

        <div class="row">
            <div class="col-md-6 mb-3">
                <label for="subcounty" class="form-label">Subcounty</label>
                <input type="text" class="form-control" id="subcounty" name="subcounty">
            </div>
            <div class="col-md-6 mb-3">
                <label for="district" class="form-label">District</label>
                <input type="text" class="form-control" id="district" name="district">
            </div>
        </div>

        <div class="row">
            <div class="col-md-6 mb-3">
                <label for="country_of_residence" class="form-label">Country of Residence</label>
                <input type="text" class="form-control" id="country_of_residence" name="country_of_residence">
            </div>
            <div class="col-md-6 mb-3">
                <label for="date_of_death" class="form-label">Date of Death</label>
                <input type="date" class="form-control" id="date_of_death" name="date_of_death">
            </div>
        </div>

        <h4 class="mt-4">Location of Illness</h4>
        <div class="row">
            <div class="col-md-4 mb-3">
                <label for="ill_village_town" class="form-label">Village/Town</label>
                <input type="text" class="form-control" id="ill_village_town" name="ill_village_town">
            </div>
            <div class="col-md-4 mb-3">
                <label for="ill_subcounty" class="form-label">Subcounty</label>
                <input type="text" class="form-control" id="ill_subcounty" name="ill_subcounty">
            </div>
            <div class="col-md-4 mb-3">
                <label for="ill_district" class="form-label">District</label>
                <input type="text" class="form-control" id="ill_district" name="ill_district">
            </div>
        </div>

        <div class="row">
            <div class="col-md-4 mb-3">
                <label for="latitude" class="form-label">Latitude</label>
                <input type="number" step="0.000001" class="form-control" id="latitude" name="latitude">
            </div>
            <div class="col-md-4 mb-3">
                <label for="longitude" class="form-label">Longitude</label>
                <input type="number" step="0.000001" class="form-control" id="longitude" name="longitude">
            </div>
        </div>

        <div class="row">
            <div class="col-md-6 mb-3">
                <label for="date_residing_from" class="form-label">Date Residing From</label>
                <input type="date" class="form-control" id="date_residing_from" name="date_residing_from">
            </div>
            <div class="col-md-6 mb-3">
                <label for="date_residing_to" class="form-label">Date Residing To</label>
                <input type="date" class="form-control" id="date_residing_to" name="date_residing_to">
            </div>
        </div>

        <div class="mt-4">
            <button type="submit" class="btn btn-primary">Next: Clinical Signs</button>
        </div>
    </form>
</div>

<script>
// Form validation
(function () {
    'use strict'
    var forms = document.querySelectorAll('.needs-validation')
    Array.prototype.slice.call(forms).forEach(function (form) {
        form.addEventListener('submit', function (event) {
            if (!form.checkValidity()) {
                event.preventDefault()
                event.stopPropagation()
            }
            form.classList.add('was-validated')
        }, false)
    })
})()
</script>
{{end}} 