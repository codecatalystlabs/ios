{{define "content"}}
<div class="container mt-4">
    <h2>VHF Case Investigation Form - Hospitalization</h2>
    <form action="/vhf-cif/hospitalization/{{.PatientID}}" method="POST" class="needs-validation" novalidate>
        <h4>Current Hospitalization</h4>
        <div class="row">
            <div class="col-md-6 mb-3">
                <label class="form-label">Currently Hospitalized?</label>
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="hospitalized" id="hospitalized_yes" value="Yes" required>
                    <label class="form-check-label" for="hospitalized_yes">Yes</label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="hospitalized" id="hospitalized_no" value="No" required>
                    <label class="form-check-label" for="hospitalized_no">No</label>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-md-6 mb-3">
                <label for="admission_date" class="form-label">Admission Date</label>
                <input type="date" class="form-control" id="admission_date" name="admission_date">
            </div>
            <div class="col-md-6 mb-3">
                <label for="health_facility_name" class="form-label">Health Facility Name</label>
                <input type="text" class="form-control" id="health_facility_name" name="health_facility_name">
            </div>
        </div>

        <div class="row">
            <div class="col-md-6 mb-3">
                <label class="form-label">In Isolation?</label>
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="isolation" id="isolation_yes" value="Yes">
                    <label class="form-check-label" for="isolation_yes">Yes</label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="isolation" id="isolation_no" value="No">
                    <label class="form-check-label" for="isolation_no">No</label>
                </div>
            </div>
            <div class="col-md-6 mb-3">
                <label for="isolation_date" class="form-label">Isolation Date</label>
                <input type="date" class="form-control" id="isolation_date" name="isolation_date">
            </div>
        </div>

        <h4 class="mt-4">Previous Hospitalization</h4>
        <div class="row">
            <div class="col-md-6 mb-3">
                <label for="previous_hospitalization_dates" class="form-label">Hospitalization Dates</label>
                <input type="text" class="form-control" id="previous_hospitalization_dates" name="previous_hospitalization_dates" placeholder="e.g., 2024-01-01 to 2024-01-05">
            </div>
            <div class="col-md-6 mb-3">
                <label for="previous_health_facility" class="form-label">Health Facility Name</label>
                <input type="text" class="form-control" id="previous_health_facility" name="previous_health_facility">
            </div>
        </div>

        <div class="row">
            <div class="col-md-6 mb-3">
                <label for="previous_village" class="form-label">Village</label>
                <input type="text" class="form-control" id="previous_village" name="previous_village">
            </div>
            <div class="col-md-6 mb-3">
                <label for="previous_district" class="form-label">District</label>
                <input type="text" class="form-control" id="previous_district" name="previous_district">
            </div>
        </div>

        <div class="row">
            <div class="col-md-6 mb-3">
                <label class="form-label">Was Isolated?</label>
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="previous_was_isolated" id="previous_was_isolated_yes" value="Yes">
                    <label class="form-check-label" for="previous_was_isolated_yes">Yes</label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="previous_was_isolated" id="previous_was_isolated_no" value="No">
                    <label class="form-check-label" for="previous_was_isolated_no">No</label>
                </div>
            </div>
        </div>

        <div class="mt-4">
            <button type="submit" class="btn btn-primary">Next: Risk Factors</button>
        </div>
    </form>
</div>

<script>
// Form validation
(function () {
    'use strict'
    var forms = document.querySelectorAll('.needs-validation')
    Array.prototype.slice.call(forms).forEach(function (form) {
        form.addEventListener('submit', function (event) {
            if (!form.checkValidity()) {
                event.preventDefault()
                event.stopPropagation()
            }
            form.classList.add('was-validated')
        }, false)
    })
})()
</script>
{{end}} 