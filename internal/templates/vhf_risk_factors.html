{{define "content"}}
<div class="container mt-4">
    <h2>VHF Case Investigation Form - Risk Factors</h2>
    <form action="/vhf-cif/risk-factors/{{.PatientID}}" method="POST" class="needs-validation" novalidate>
        <h4>Contact with Case</h4>
        <div class="row">
            <div class="col-md-6 mb-3">
                <label class="form-label">Contact with Case?</label>
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="contactWithCase" id="contact_yes" value="Yes">
                    <label class="form-check-label" for="contact_yes">Yes</label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="contactWithCase" id="contact_no" value="No">
                    <label class="form-check-label" for="contact_no">No</label>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-md-6 mb-3">
                <label for="contact_name" class="form-label">Contact Name</label>
                <input type="text" class="form-control" id="contact_name" name="contact_name">
            </div>
            <div class="col-md-6 mb-3">
                <label for="contact_relation" class="form-label">Relationship to Contact</label>
                <input type="text" class="form-control" id="contact_relation" name="contact_relation">
            </div>
        </div>

        <div class="row">
            <div class="col-md-6 mb-3">
                <label for="contact_dates" class="form-label">Contact Dates</label>
                <input type="text" class="form-control" id="contact_dates" name="contact_dates" placeholder="e.g., 2024-01-01 to 2024-01-05">
            </div>
            <div class="col-md-6 mb-3">
                <label for="contact_village" class="form-label">Contact Village</label>
                <input type="text" class="form-control" id="contact_village" name="contact_village">
            </div>
        </div>

        <div class="row">
            <div class="col-md-6 mb-3">
                <label for="contact_district" class="form-label">Contact District</label>
                <input type="text" class="form-control" id="contact_district" name="contact_district">
            </div>
            <div class="col-md-6 mb-3">
                <label for="contact_status" class="form-label">Contact Status</label>
                <select class="form-select" id="contact_status" name="contact_status">
                    <option value="">Select status</option>
                    <option value="Alive">Alive</option>
                    <option value="Dead">Dead</option>
                    <option value="Unknown">Unknown</option>
                </select>
            </div>
        </div>

        <div class="row">
            <div class="col-md-6 mb-3">
                <label for="contact_death_date" class="form-label">Contact Date of Death</label>
                <input type="date" class="form-control" id="contact_death_date" name="contact_death_date">
            </div>
            <div class="col-md-6 mb-3">
                <label for="contact_types" class="form-label">Types of Contact</label>
                <select class="form-select" id="contact_types" name="contact_types" multiple>
                    <option value="Direct physical contact">Direct physical contact</option>
                    <option value="Shared utensils">Shared utensils</option>
                    <option value="Shared bedding">Shared bedding</option>
                    <option value="Shared bathroom">Shared bathroom</option>
                    <option value="Healthcare worker">Healthcare worker</option>
                    <option value="Funeral attendance">Funeral attendance</option>
                    <option value="Other">Other</option>
                </select>
            </div>
        </div>

        <div class="mt-4">
            <button type="submit" class="btn btn-primary">Next: Laboratory</button>
        </div>
    </form>
</div>

<script>
// Form validation
(function () {
    'use strict'
    var forms = document.querySelectorAll('.needs-validation')
    Array.prototype.slice.call(forms).forEach(function (form) {
        form.addEventListener('submit', function (event) {
            if (!form.checkValidity()) {
                event.preventDefault()
                event.stopPropagation()
            }
            form.classList.add('was-validated')
        }, false)
    })
})()
</script>
{{end}} 